"use strict";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getAugmentedNamespace(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var compareVersions={exports:{}},getRandomValues;compareVersions.exports=function(){var t=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function e(t,e){return-1===t.indexOf(e)?t.length:t.indexOf(e)}function r(t){var r=t.replace(/^v/,"").replace(/\+.*$/,""),n=e(r,"-"),i=r.substring(0,n).split(".");return i.push(r.substring(n+1)),i}function n(t){return isNaN(Number(t))?t:Number(t)}function i(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string");if(!t.test(e))throw new Error("Invalid argument not valid semver ('"+e+"' received)")}function o(t,e){[t,e].forEach(i);for(var o=r(t),s=r(e),a=0;a<Math.max(o.length-1,s.length-1);a++){var f=parseInt(o[a]||0,10),h=parseInt(s[a]||0,10);if(f>h)return 1;if(h>f)return-1}var u=o[o.length-1],c=s[s.length-1];if(u&&c){var d=u.split(".").map(n),l=c.split(".").map(n);for(a=0;a<Math.max(d.length,l.length);a++){if(void 0===d[a]||"string"==typeof l[a]&&"number"==typeof d[a])return-1;if(void 0===l[a]||"string"==typeof d[a]&&"number"==typeof l[a])return 1;if(d[a]>l[a])return 1;if(l[a]>d[a])return-1}}else if(u||c)return u?-1:1;return 0}var s=[">",">=","=","<","<="],a={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function f(t){if("string"!=typeof t)throw new TypeError("Invalid operator type, expected string but got "+typeof t);if(-1===s.indexOf(t))throw new TypeError("Invalid operator, expected one of "+s.join("|"))}return o.validate=function(e){return"string"==typeof e&&t.test(e)},o.compare=function(t,e,r){f(r);var n=o(t,e);return a[r].indexOf(n)>-1},o}();var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(t){return"string"==typeof t&&REGEX.test(t)}for(var byteToHex=[],i=0,_nodeId,_clockseq;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase();if(!validate(r))throw TypeError("Stringified UUID is invalid");return r}var _lastMSecs=0,_lastNSecs=0;function v1(t,e,r){var n=e&&r||0,i=e||new Array(16),o=(t=t||{}).node||_nodeId,s=void 0!==t.clockseq?t.clockseq:_clockseq;if(null==o||null==s){var a=t.random||(t.rng||rng)();null==o&&(o=_nodeId=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=_clockseq=16383&(a[6]<<8|a[7]))}var f=void 0!==t.msecs?t.msecs:Date.now(),h=void 0!==t.nsecs?t.nsecs:_lastNSecs+1,u=f-_lastMSecs+(h-_lastNSecs)/1e4;if(u<0&&void 0===t.clockseq&&(s=s+1&16383),(u<0||f>_lastMSecs)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=f,_lastNSecs=h,_clockseq=s;var c=(1e4*(268435455&(f+=122192928e5))+h)%4294967296;i[n++]=c>>>24&255,i[n++]=c>>>16&255,i[n++]=c>>>8&255,i[n++]=255&c;var d=f/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=255&d,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var l=0;l<6;++l)i[n+l]=o[l];return e||stringify(i)}function parse(t){if(!validate(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r}function stringToBytes(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(t,e,r){function n(t,n,i,o){if("string"==typeof t&&(t=stringToBytes(t)),"string"==typeof n&&(n=parse(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(n),s.set(t,n.length),(s=r(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return stringify(s)}try{n.name=t}catch(t){}return n.DNS=DNS,n.URL=URL,n}function md5$2(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(t),8*t.length))}function md5ToHexEncodedArray(t){for(var e=[],r=32*t.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);e.push(s)}return e}function getOutputLength(t){return 14+(t+64>>>9<<4)+1}function wordsToMd5(t,e){t[e>>5]|=128<<e%32,t[getOutputLength(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=r,f=n,h=i,u=o;r=md5ff(r,n,i,o,t[s],7,-680876936),o=md5ff(o,r,n,i,t[s+1],12,-389564586),i=md5ff(i,o,r,n,t[s+2],17,606105819),n=md5ff(n,i,o,r,t[s+3],22,-1044525330),r=md5ff(r,n,i,o,t[s+4],7,-176418897),o=md5ff(o,r,n,i,t[s+5],12,1200080426),i=md5ff(i,o,r,n,t[s+6],17,-1473231341),n=md5ff(n,i,o,r,t[s+7],22,-45705983),r=md5ff(r,n,i,o,t[s+8],7,1770035416),o=md5ff(o,r,n,i,t[s+9],12,-1958414417),i=md5ff(i,o,r,n,t[s+10],17,-42063),n=md5ff(n,i,o,r,t[s+11],22,-1990404162),r=md5ff(r,n,i,o,t[s+12],7,1804603682),o=md5ff(o,r,n,i,t[s+13],12,-40341101),i=md5ff(i,o,r,n,t[s+14],17,-1502002290),r=md5gg(r,n=md5ff(n,i,o,r,t[s+15],22,1236535329),i,o,t[s+1],5,-165796510),o=md5gg(o,r,n,i,t[s+6],9,-1069501632),i=md5gg(i,o,r,n,t[s+11],14,643717713),n=md5gg(n,i,o,r,t[s],20,-373897302),r=md5gg(r,n,i,o,t[s+5],5,-701558691),o=md5gg(o,r,n,i,t[s+10],9,38016083),i=md5gg(i,o,r,n,t[s+15],14,-660478335),n=md5gg(n,i,o,r,t[s+4],20,-405537848),r=md5gg(r,n,i,o,t[s+9],5,568446438),o=md5gg(o,r,n,i,t[s+14],9,-1019803690),i=md5gg(i,o,r,n,t[s+3],14,-187363961),n=md5gg(n,i,o,r,t[s+8],20,1163531501),r=md5gg(r,n,i,o,t[s+13],5,-1444681467),o=md5gg(o,r,n,i,t[s+2],9,-51403784),i=md5gg(i,o,r,n,t[s+7],14,1735328473),r=md5hh(r,n=md5gg(n,i,o,r,t[s+12],20,-1926607734),i,o,t[s+5],4,-378558),o=md5hh(o,r,n,i,t[s+8],11,-2022574463),i=md5hh(i,o,r,n,t[s+11],16,1839030562),n=md5hh(n,i,o,r,t[s+14],23,-35309556),r=md5hh(r,n,i,o,t[s+1],4,-1530992060),o=md5hh(o,r,n,i,t[s+4],11,1272893353),i=md5hh(i,o,r,n,t[s+7],16,-155497632),n=md5hh(n,i,o,r,t[s+10],23,-1094730640),r=md5hh(r,n,i,o,t[s+13],4,681279174),o=md5hh(o,r,n,i,t[s],11,-358537222),i=md5hh(i,o,r,n,t[s+3],16,-722521979),n=md5hh(n,i,o,r,t[s+6],23,76029189),r=md5hh(r,n,i,o,t[s+9],4,-640364487),o=md5hh(o,r,n,i,t[s+12],11,-421815835),i=md5hh(i,o,r,n,t[s+15],16,530742520),r=md5ii(r,n=md5hh(n,i,o,r,t[s+2],23,-995338651),i,o,t[s],6,-198630844),o=md5ii(o,r,n,i,t[s+7],10,1126891415),i=md5ii(i,o,r,n,t[s+14],15,-1416354905),n=md5ii(n,i,o,r,t[s+5],21,-57434055),r=md5ii(r,n,i,o,t[s+12],6,1700485571),o=md5ii(o,r,n,i,t[s+3],10,-1894986606),i=md5ii(i,o,r,n,t[s+10],15,-1051523),n=md5ii(n,i,o,r,t[s+1],21,-2054922799),r=md5ii(r,n,i,o,t[s+8],6,1873313359),o=md5ii(o,r,n,i,t[s+15],10,-30611744),i=md5ii(i,o,r,n,t[s+6],15,-1560198380),n=md5ii(n,i,o,r,t[s+13],21,1309151649),r=md5ii(r,n,i,o,t[s+4],6,-145523070),o=md5ii(o,r,n,i,t[s+11],10,-1120210379),i=md5ii(i,o,r,n,t[s+2],15,718787259),n=md5ii(n,i,o,r,t[s+9],21,-343485551),r=safeAdd(r,a),n=safeAdd(n,f),i=safeAdd(i,h),o=safeAdd(o,u)}return[r,n,i,o]}function bytesToWords(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(getOutputLength(e)),n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}function safeAdd(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function bitRotateLeft(t,e){return t<<e|t>>>32-e}function md5cmn(t,e,r,n,i,o){return safeAdd(bitRotateLeft(safeAdd(safeAdd(e,t),safeAdd(n,o)),i),r)}function md5ff(t,e,r,n,i,o,s){return md5cmn(e&r|~e&n,t,e,i,o,s)}function md5gg(t,e,r,n,i,o,s){return md5cmn(e&n|r&~n,t,e,i,o,s)}function md5hh(t,e,r,n,i,o,s){return md5cmn(e^r^n,t,e,i,o,s)}function md5ii(t,e,r,n,i,o,s){return md5cmn(r^(e|~n),t,e,i,o,s)}var v3=v35("v3",48,md5$2);function v4(t,e,r){var n=(t=t||{}).random||(t.rng||rng)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return stringify(n)}function f(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function ROTL(t,e){return t<<e|t>>>32-e}function sha1$2(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),h=0;h<s;++h){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=t[64*h+4*c]<<24|t[64*h+4*c+1]<<16|t[64*h+4*c+2]<<8|t[64*h+4*c+3];a[h]=u}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var d=0;d<s;++d){for(var l=new Uint32Array(80),p=0;p<16;++p)l[p]=a[d][p];for(var y=16;y<80;++y)l[y]=ROTL(l[y-3]^l[y-8]^l[y-14]^l[y-16],1);for(var m=r[0],H=r[1],_=r[2],A=r[3],g=r[4],b=0;b<80;++b){var v=Math.floor(b/20),S=ROTL(m,5)+f(v,H,_,A)+g+e[v]+l[b]>>>0;g=A,A=_,_=ROTL(H,30)>>>0,H=m,m=S}r[0]=r[0]+m>>>0,r[1]=r[1]+H>>>0,r[2]=r[2]+_>>>0,r[3]=r[3]+A>>>0,r[4]=r[4]+g>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}var v5=v35("v5",80,sha1$2),nil="00000000-0000-0000-0000-000000000000";function version(t){if(!validate(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var esmBrowser=Object.freeze({__proto__:null,v1:v1,v3:v3,v4:v4,v5:v5,NIL:nil,version:version,validate:validate,stringify:stringify,parse:parse}),require$$1=getAugmentedNamespace(esmBrowser),md5$1={exports:{}};
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
(function(module){(function(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&module.exports,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(e){return new Md5(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Md5},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var r=OUTPUT_TYPES[e];t[r]=createOutputMethod(r)}return t},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("md5").update(t,"utf8").digest("hex");if(null==t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash("md5").update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod};function Md5(t){if(t)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;e=!0}for(var n,i,o=0,s=t.length,a=this.blocks,f=this.buffer8;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)if(ARRAY_BUFFER)for(i=this.start;o<s&&i<64;++o)f[i++]=t[o];else for(i=this.start;o<s&&i<64;++o)a[i>>2]|=t[o]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;o<s&&i<64;++o)(n=t.charCodeAt(o))<128?f[i++]=n:n<2048?(f[i++]=192|n>>6,f[i++]=128|63&n):n<55296||n>=57344?(f[i++]=224|n>>12,f[i++]=128|n>>6&63,f[i++]=128|63&n):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++o)),f[i++]=240|n>>18,f[i++]=128|n>>12&63,f[i++]=128|n>>6&63,f[i++]=128|63&n);else for(i=this.start;o<s&&i<64;++o)(n=t.charCodeAt(o))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++o)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=EXTRA[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var t,e,r,n,i,o,s=this.blocks;this.first?e=((e=((t=((t=s[0]-680876937)<<7|t>>>25)-271733879<<0)^(r=((r=(-271733879^(n=((n=(-1732584194^2004318071&t)+s[1]-117830708)<<12|n>>>20)+t<<0)&(-271733879^t))+s[2]-1126478375)<<17|r>>>15)+n<<0)&(n^t))+s[3]-1316259209)<<22|e>>>10)+r<<0:(t=this.h0,e=this.h1,r=this.h2,e=((e+=((t=((t+=((n=this.h3)^e&(r^n))+s[0]-680876936)<<7|t>>>25)+e<<0)^(r=((r+=(e^(n=((n+=(r^t&(e^r))+s[1]-389564586)<<12|n>>>20)+t<<0)&(t^e))+s[2]+606105819)<<17|r>>>15)+n<<0)&(n^t))+s[3]-1044525330)<<22|e>>>10)+r<<0),e=((e+=((t=((t+=(n^e&(r^n))+s[4]-176418897)<<7|t>>>25)+e<<0)^(r=((r+=(e^(n=((n+=(r^t&(e^r))+s[5]+1200080426)<<12|n>>>20)+t<<0)&(t^e))+s[6]-1473231341)<<17|r>>>15)+n<<0)&(n^t))+s[7]-45705983)<<22|e>>>10)+r<<0,e=((e+=((t=((t+=(n^e&(r^n))+s[8]+1770035416)<<7|t>>>25)+e<<0)^(r=((r+=(e^(n=((n+=(r^t&(e^r))+s[9]-1958414417)<<12|n>>>20)+t<<0)&(t^e))+s[10]-42063)<<17|r>>>15)+n<<0)&(n^t))+s[11]-1990404162)<<22|e>>>10)+r<<0,e=((e+=((t=((t+=(n^e&(r^n))+s[12]+1804603682)<<7|t>>>25)+e<<0)^(r=((r+=(e^(n=((n+=(r^t&(e^r))+s[13]-40341101)<<12|n>>>20)+t<<0)&(t^e))+s[14]-1502002290)<<17|r>>>15)+n<<0)&(n^t))+s[15]+1236535329)<<22|e>>>10)+r<<0,e=((e+=((n=((n+=(e^r&((t=((t+=(r^n&(e^r))+s[1]-165796510)<<5|t>>>27)+e<<0)^e))+s[6]-1069501632)<<9|n>>>23)+t<<0)^t&((r=((r+=(t^e&(n^t))+s[11]+643717713)<<14|r>>>18)+n<<0)^n))+s[0]-373897302)<<20|e>>>12)+r<<0,e=((e+=((n=((n+=(e^r&((t=((t+=(r^n&(e^r))+s[5]-701558691)<<5|t>>>27)+e<<0)^e))+s[10]+38016083)<<9|n>>>23)+t<<0)^t&((r=((r+=(t^e&(n^t))+s[15]-660478335)<<14|r>>>18)+n<<0)^n))+s[4]-405537848)<<20|e>>>12)+r<<0,e=((e+=((n=((n+=(e^r&((t=((t+=(r^n&(e^r))+s[9]+568446438)<<5|t>>>27)+e<<0)^e))+s[14]-1019803690)<<9|n>>>23)+t<<0)^t&((r=((r+=(t^e&(n^t))+s[3]-187363961)<<14|r>>>18)+n<<0)^n))+s[8]+1163531501)<<20|e>>>12)+r<<0,e=((e+=((n=((n+=(e^r&((t=((t+=(r^n&(e^r))+s[13]-1444681467)<<5|t>>>27)+e<<0)^e))+s[2]-51403784)<<9|n>>>23)+t<<0)^t&((r=((r+=(t^e&(n^t))+s[7]+1735328473)<<14|r>>>18)+n<<0)^n))+s[12]-1926607734)<<20|e>>>12)+r<<0,e=((e+=((o=(n=((n+=((i=e^r)^(t=((t+=(i^n)+s[5]-378558)<<4|t>>>28)+e<<0))+s[8]-2022574463)<<11|n>>>21)+t<<0)^t)^(r=((r+=(o^e)+s[11]+1839030562)<<16|r>>>16)+n<<0))+s[14]-35309556)<<23|e>>>9)+r<<0,e=((e+=((o=(n=((n+=((i=e^r)^(t=((t+=(i^n)+s[1]-1530992060)<<4|t>>>28)+e<<0))+s[4]+1272893353)<<11|n>>>21)+t<<0)^t)^(r=((r+=(o^e)+s[7]-155497632)<<16|r>>>16)+n<<0))+s[10]-1094730640)<<23|e>>>9)+r<<0,e=((e+=((o=(n=((n+=((i=e^r)^(t=((t+=(i^n)+s[13]+681279174)<<4|t>>>28)+e<<0))+s[0]-358537222)<<11|n>>>21)+t<<0)^t)^(r=((r+=(o^e)+s[3]-722521979)<<16|r>>>16)+n<<0))+s[6]+76029189)<<23|e>>>9)+r<<0,e=((e+=((o=(n=((n+=((i=e^r)^(t=((t+=(i^n)+s[9]-640364487)<<4|t>>>28)+e<<0))+s[12]-421815835)<<11|n>>>21)+t<<0)^t)^(r=((r+=(o^e)+s[15]+530742520)<<16|r>>>16)+n<<0))+s[2]-995338651)<<23|e>>>9)+r<<0,e=((e+=((n=((n+=(e^((t=((t+=(r^(e|~n))+s[0]-198630844)<<6|t>>>26)+e<<0)|~r))+s[7]+1126891415)<<10|n>>>22)+t<<0)^((r=((r+=(t^(n|~e))+s[14]-1416354905)<<15|r>>>17)+n<<0)|~t))+s[5]-57434055)<<21|e>>>11)+r<<0,e=((e+=((n=((n+=(e^((t=((t+=(r^(e|~n))+s[12]+1700485571)<<6|t>>>26)+e<<0)|~r))+s[3]-1894986606)<<10|n>>>22)+t<<0)^((r=((r+=(t^(n|~e))+s[10]-1051523)<<15|r>>>17)+n<<0)|~t))+s[1]-2054922799)<<21|e>>>11)+r<<0,e=((e+=((n=((n+=(e^((t=((t+=(r^(e|~n))+s[8]+1873313359)<<6|t>>>26)+e<<0)|~r))+s[15]-30611744)<<10|n>>>22)+t<<0)^((r=((r+=(t^(n|~e))+s[6]-1560198380)<<15|r>>>17)+n<<0)|~t))+s[13]+1309151649)<<21|e>>>11)+r<<0,e=((e+=((n=((n+=(e^((t=((t+=(r^(e|~n))+s[4]-145523070)<<6|t>>>26)+e<<0)|~r))+s[11]-1120210379)<<10|n>>>22)+t<<0)^((r=((r+=(t^(n|~e))+s[2]+718787259)<<15|r>>>17)+n<<0)|~t))+s[9]-343485551)<<21|e>>>11)+r<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=r-1732584194<<0,this.h3=n+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,e,r,n="",i=this.array(),o=0;o<15;)t=i[o++],e=i[o++],r=i[o++],n+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|e>>>4)]+BASE64_ENCODE_CHAR[63&(e<<2|r>>>6)]+BASE64_ENCODE_CHAR[63&r];return t=i[o],n+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:root.md5=exports})()})(md5$1);var sha1$1={exports:{}};
/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var root="object"==typeof window?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS&&(root=commonjsGlobal);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&module.exports,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(t){return function(e){return new Sha1(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Sha1},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var r=OUTPUT_TYPES[e];t[r]=createOutputMethod(r)}return t},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("sha1").update(t,"utf8").digest("hex");if(t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(void 0===t.length)return method(t);return crypto.createHash("sha1").update(new Buffer(t)).digest("hex")};return nodeMethod};function Sha1(t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Sha1.prototype.update=function(t){if(!this.finalized){var e="string"!=typeof t;e&&t.constructor===root.ArrayBuffer&&(t=new Uint8Array(t));for(var r,n,i=0,o=t.length||0,s=this.blocks;i<o;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)for(n=this.start;i<o&&n<64;++i)s[n>>2]|=t[i]<<SHIFT[3&n++];else for(n=this.start;i<o&&n<64;++i)(r=t.charCodeAt(i))<128?s[n>>2]|=r<<SHIFT[3&n++]:r<2048?(s[n>>2]|=(192|r>>6)<<SHIFT[3&n++],s[n>>2]|=(128|63&r)<<SHIFT[3&n++]):r<55296||r>=57344?(s[n>>2]|=(224|r>>12)<<SHIFT[3&n++],s[n>>2]|=(128|r>>6&63)<<SHIFT[3&n++],s[n>>2]|=(128|63&r)<<SHIFT[3&n++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++i)),s[n>>2]|=(240|r>>18)<<SHIFT[3&n++],s[n>>2]|=(128|r>>12&63)<<SHIFT[3&n++],s[n>>2]|=(128|r>>6&63)<<SHIFT[3&n++],s[n>>2]|=(128|63&r)<<SHIFT[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.block=s[16],this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var t,e,r=this.h0,n=this.h1,i=this.h2,o=this.h3,s=this.h4,a=this.blocks;for(t=16;t<80;++t)e=a[t-3]^a[t-8]^a[t-14]^a[t-16],a[t]=e<<1|e>>>31;for(t=0;t<20;t+=5)r=(e=(n=(e=(i=(e=(o=(e=(s=(e=r<<5|r>>>27)+(n&i|~n&o)+s+1518500249+a[t]<<0)<<5|s>>>27)+(r&(n=n<<30|n>>>2)|~r&i)+o+1518500249+a[t+1]<<0)<<5|o>>>27)+(s&(r=r<<30|r>>>2)|~s&n)+i+1518500249+a[t+2]<<0)<<5|i>>>27)+(o&(s=s<<30|s>>>2)|~o&r)+n+1518500249+a[t+3]<<0)<<5|n>>>27)+(i&(o=o<<30|o>>>2)|~i&s)+r+1518500249+a[t+4]<<0,i=i<<30|i>>>2;for(;t<40;t+=5)r=(e=(n=(e=(i=(e=(o=(e=(s=(e=r<<5|r>>>27)+(n^i^o)+s+1859775393+a[t]<<0)<<5|s>>>27)+(r^(n=n<<30|n>>>2)^i)+o+1859775393+a[t+1]<<0)<<5|o>>>27)+(s^(r=r<<30|r>>>2)^n)+i+1859775393+a[t+2]<<0)<<5|i>>>27)+(o^(s=s<<30|s>>>2)^r)+n+1859775393+a[t+3]<<0)<<5|n>>>27)+(i^(o=o<<30|o>>>2)^s)+r+1859775393+a[t+4]<<0,i=i<<30|i>>>2;for(;t<60;t+=5)r=(e=(n=(e=(i=(e=(o=(e=(s=(e=r<<5|r>>>27)+(n&i|n&o|i&o)+s-1894007588+a[t]<<0)<<5|s>>>27)+(r&(n=n<<30|n>>>2)|r&i|n&i)+o-1894007588+a[t+1]<<0)<<5|o>>>27)+(s&(r=r<<30|r>>>2)|s&n|r&n)+i-1894007588+a[t+2]<<0)<<5|i>>>27)+(o&(s=s<<30|s>>>2)|o&r|s&r)+n-1894007588+a[t+3]<<0)<<5|n>>>27)+(i&(o=o<<30|o>>>2)|i&s|o&s)+r-1894007588+a[t+4]<<0,i=i<<30|i>>>2;for(;t<80;t+=5)r=(e=(n=(e=(i=(e=(o=(e=(s=(e=r<<5|r>>>27)+(n^i^o)+s-899497514+a[t]<<0)<<5|s>>>27)+(r^(n=n<<30|n>>>2)^i)+o-899497514+a[t+1]<<0)<<5|o>>>27)+(s^(r=r<<30|r>>>2)^n)+i-899497514+a[t+2]<<0)<<5|i>>>27)+(o^(s=s<<30|s>>>2)^r)+n-899497514+a[t+3]<<0)<<5|n>>>27)+(i^(o=o<<30|o>>>2)^s)+r-899497514+a[t+4]<<0,i=i<<30|i>>>2;this.h0=this.h0+r<<0,this.h1=this.h1+n<<0,this.h2=this.h2+i<<0,this.h3=this.h3+o<<0,this.h4=this.h4+s<<0},Sha1.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4;return HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4;return[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};var exports=createMethod();COMMON_JS?module.exports=exports:root.sha1=exports})()})(sha1$1);var md5=md5$1.exports,sha1=sha1$1.exports,HEX_DIGITS="0123456789abcdef".split(""),uint8ToHex=function(t){var e=t>>4,r=t-(e<<4);return HEX_DIGITS[e]+HEX_DIGITS[r]},uint8ArrayToHex=function(t){for(var e=[],r=0;r<t.length;r++)e.push(uint8ToHex(t[r]));return e.join("")},stringToCharBuffer=function(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t[r].charCodeAt(0);return e},md5Hash=function(t){return new Uint8Array(md5.arrayBuffer(t))},sha1Hash=function(t){return new Uint8Array(sha1.arrayBuffer(t))},concatBuffers=function(t,e){var r=new Uint8Array(t.length+e.length);return r.set(new Uint8Array(t),0),r.set(new Uint8Array(e),t.byteLength),r},hashToUuid=function(t,e){return[uint8ArrayToHex(t.slice(0,4)),"-",uint8ArrayToHex(t.slice(4,6)),"-",uint8ToHex(15&t[6]|parseInt(10*e,16)),uint8ToHex(t[7]),"-",uint8ToHex(63&t[8]|128),uint8ToHex(t[9]),"-",uint8ArrayToHex(t.slice(10,16))].join("")},lib$1={uint8ToHex:uint8ToHex,uint8ArrayToHex:uint8ArrayToHex,stringToCharBuffer:stringToCharBuffer,md5Hash:md5Hash,sha1Hash:sha1Hash,concatBuffers:concatBuffers,hashToUuid:hashToUuid},lib=lib$1,EMPTY_UINT8_ARRAY=new Uint8Array(0);function generateUuid(t,e,r){if("string"!=typeof t)throw TypeError("Value must be string");if("number"==typeof e)return generateUuid(t,void 0,e);if(null==r)return generateUuid(t,e,5);if(3!==r&&5!==r)throw TypeError("Version of UUID can be only 3 or 5");var n=lib.stringToCharBuffer(t),i="string"==typeof e?lib.stringToCharBuffer(e):EMPTY_UINT8_ARRAY,o=lib.concatBuffers(i,n),s=3===r?lib.md5Hash(o):lib.sha1Hash(o);return lib.hashToUuid(s,r)}var src=generateUuid,customEntitySyntax=({projectRoot:t,projectConfig:e,fileSystem:r})=>{const n=compareVersions.exports,i=require$$1,o=src;function s(t,e){let r;if(Array.isArray(t)&&Array.isArray(e))r=t.concat(e);else if(Array.isArray(t))r=t.concat([e]);else if(Array.isArray(e))r=e.concat([t]);else if("object"!=typeof e)return e;if(r)return[...new Set([...r])];let n={};for(const r in t)void 0===e[r]?n[r]=t[r]:n[r]=s(t[r],e[r]);for(const r in e)void 0===t[r]&&(n[r]=e[r]);return n}function a(t,e){"string"==typeof e&&(e=e.split("/"));const r=e.shift();if(0===e.length){let e=t[r];return void 0!==t[r]&&delete t[r],e}return a(t[r],e)}function f(t,r){let o={};if(r.eventName){const e=f(t,{formatVersion:r.formatVersion,path:r.path});return o=s(o,e.entity),o=s(o,{"minecraft:entity":{events:{[r.eventName]:e.event}}}),o}if(t){if(t.sequence&&Array.isArray(t.sequence)){let e=[];for(const n of t.sequence){const t=f(n,{formatVersion:r.formatVersion,path:r.path});o=s(o,t.entity["minecraft:entity"]),e.push(t.event)}t.sequence=e}if(t.randomize&&Array.isArray(t.randomize)){let e=[];for(const n of t.randomize){const t=f(n,{formatVersion:r.formatVersion,path:r.path});o=s(o,t.entity["minecraft:entity"]),e.push(t.event)}t.randomize=e}const h=i.v4();let c,m;if(t.add?.spell_effects&&(c=a(t,"add/spell_effects")),t.remove?.spell_effects&&(m=a(t,"remove/spell_effects")),c&&(t=s(t,{add:{component_groups:[h]}}),o=s(o,{component_groups:{[h]:{"minecraft:spell_effects":{add_effects:c}}}})),m&&(t=s(t,{add:{component_groups:[h]}}),o=s(o,{component_groups:{[h]:{"minecraft:spell_effects":{remove_effects:m}}}})),t.add?.group){const e=a(t,"add/group"),r=("object"!=typeof e.name?e.name:i.v4())||i.v4(),n=e.components??{};t=s(t,{add:{component_groups:[r]}}),o=s(o,{component_groups:{[r]:n}})}if(t.execute?.commands){let{commands:i}=a(t,"execute")??[];if("string"==typeof i&&(i=[i]),e.get().experimentalGameplay?.holidayCreatorFeatures&&n(r.formatVersion,"1.16.100",">=")>=0)t=s(t,{run_command:{command:i}});else{d++;let e=`execute_command_id_${d}`;o=s(o,{description:{animations:{[y(r.path)]:p(r.path)}}}),o=s(o,{description:{scripts:{animate:[y(r.path)]}}}),o=s(o,{component_groups:{[`bridge:${e}`]:{"minecraft:skin_id":{value:d}}}}),o=s(o,{component_groups:{"bridge:execute_no_command":{"minecraft:skin_id":{value:0}}}}),t=s(t,{add:{component_groups:[`bridge:${e}`]}}),o=s(o,{events:{[`bridge:remove_command_id_${d}`]:{add:{component_groups:["bridge:execute_no_command"]},remove:{component_groups:[`bridge:${e}`]}}}}),u[l(r.path)]=s(u[l(r.path)],{animation_controllers:{[p(r.path)]:{states:{default:{transitions:[{[e]:`query.skin_id == ${d}`}]},[e]:{transitions:[{default:`query.skin_id != ${d}`}],on_entry:[...i,`@s bridge:remove_command_id_${d}`]}}}}})}}}return{entity:{"minecraft:entity":o},event:t}}let h,u={},c=JSON.stringify({format_version:"1.10.0",animation_controllers:{}}),d=0;const l=e=>t+`/BP/animation_controllers/bridge/cmds_${o(e).substring(0,18)}.json`,p=t=>`controller.animation.bridge.${o(t)}_execute_commands`,y=t=>`bridge_execute_command_${o(t)}`;async function m(){if(!h){h={};let e=await r.allFiles(t+"/BP/entities");return e.forEach((t=>h[l(t)]=t)),Array.from(e,(t=>[l(t),{isVirtual:!0}]))}}return{include:async()=>await m(),async require(t){if(await m(),h[t])return[h[t]]},async read(t){if(await m(),h[t])return JSON.parse(c)},async transform(t,e){if(await m(),t.includes("BP/entities")){const r=e["minecraft:entity"]?.events,n=e?.format_version??"1.17.0";u[l(t)]=JSON.parse(c);for(const i in r){const o=f(r[i],{formatVersion:n,eventName:i,path:t});e["minecraft:entity"].events[i]={},e=s(e,o)}return d=0,e}if(h[t]){return s(u[t],e)}},async finalizeBuild(t,e){if(await m(),h[t]&&JSON.stringify(e)===c)return null}}};module.exports=customEntitySyntax;
